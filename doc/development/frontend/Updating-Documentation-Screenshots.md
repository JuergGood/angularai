# Updating Documentation Screenshots

This guide explains how to update the UI screenshots used in the user documentation.

## Overview

To keep documentation consistent with the latest UI changes, screenshots are not manually captured. Instead, they are automated using Playwright tests located in `frontend/e2e/`.

## Prerequisites

- Node.js and npm installed.
- Backend and Frontend must be buildable.

## Regenerating Screenshots

Screenshots are generated by specific Playwright tests tagged with `-docs`. 

### 1. Automatic Update (Recommended)

You can run the documentation-centric tests which will automatically overwrite the images in `doc/user-guide/workflows/assets/`.

Navigate to the `frontend/` directory and run:

```bash
# Run all documentation screenshot tests
npx playwright test registration-docs forgot-password-docs --project=no-auth
```

### 2. Manual Update for Specific Workflows

If you only need to update screenshots for a specific workflow:

```bash
# Update Registration screenshots
npx playwright test registration-docs --project=no-auth

# Update Forgot Password screenshots
npx playwright test forgot-password-docs --project=no-auth
```

## How it Works

The documentation tests (`registration-docs.spec.ts`, `forgot-password-docs.spec.ts`) are configured to:
1. Navigate through the actual application workflows.
2. Use mock data or bypass reCAPTCHA where necessary to ensure stability.
3. Capture screenshots at predefined steps.
4. Save the screenshots directly into the documentation assets folder.

Example from `registration-docs.spec.ts`:
```typescript
const screenshotDir = 'doc/user-guide/workflows/assets';
// ...
await page.screenshot({ path: `${absolutePath}/01-login-page.png`, fullPage: true });
```

## Adding New Screenshots

When adding a new workflow to the documentation:
1. Create a new Playwright test file in `frontend/e2e/` (e.g., `new-feature-docs.spec.ts`).
2. Implement the workflow steps and add `page.screenshot()` calls.
3. Ensure the output path points to `doc/user-guide/workflows/assets/`.
4. Add the new test to the `no-auth` project in `frontend/playwright.config.ts` if it doesn't require authentication.
5. Reference the new screenshots in your Markdown documentation.
