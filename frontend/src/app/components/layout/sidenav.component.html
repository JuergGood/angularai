<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #sidenav class="sidenav"
               [class.sidenav-collapsed]="isCollapsed()"
               [mode]="isMobile() ? 'over' : 'side'"
               [opened]="!isMobile()"
               [fixedInViewport]="isMobile()">
    <mat-toolbar>
      <div class="logo-container">
        <mat-icon class="brand-icon">filter_1</mat-icon>
        @if (!isCollapsed()) {
          <span class="logo-text">GoodOne</span>
        }
      </div>
    </mat-toolbar>
    <mat-nav-list>
      @if (authService.isLoggedIn()) {
        <a mat-list-item routerLink="/profile" routerLinkActive="active-link" [title]="isCollapsed() ? 'Profile' : ''">
          <mat-icon matListItemIcon>account_circle</mat-icon>
          @if (!isCollapsed()) {
            <span matListItemTitle>Profile</span>
          }
        </a>
        <a mat-list-item routerLink="/tasks" routerLinkActive="active-link" [title]="isCollapsed() ? 'Tasks' : ''">
          <mat-icon matListItemIcon>list_alt</mat-icon>
          @if (!isCollapsed()) {
            <span matListItemTitle>Tasks</span>
          }
        </a>
        @if (authService.isAdmin()) {
          <a mat-list-item routerLink="/user-admin" routerLinkActive="active-link" [title]="isCollapsed() ? 'User Admin' : ''">
            <mat-icon matListItemIcon>supervisor_account</mat-icon>
            @if (!isCollapsed()) {
              <span matListItemTitle>User Admin</span>
            }
          </a>
        }
        <a mat-list-item (click)="onLogout()" style="cursor: pointer;" [title]="isCollapsed() ? 'Logout' : ''">
          <mat-icon matListItemIcon>logout</mat-icon>
          @if (!isCollapsed()) {
            <span matListItemTitle>Logout</span>
          }
        </a>
      } @else {
        <a mat-list-item routerLink="/login" routerLinkActive="active-link" [title]="isCollapsed() ? 'Login' : ''">
          <mat-icon matListItemIcon>login</mat-icon>
          @if (!isCollapsed()) {
            <span matListItemTitle>Login</span>
          }
        </a>
      }
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar color="primary">
      @if (isMobile()) {
        <button mat-icon-button (click)="sidenav.toggle()">
          <mat-icon>menu</mat-icon>
        </button>
      }
      <span>GoodOne</span>
    </mat-toolbar>
    <main>
      <ng-content></ng-content>
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>
