{
  "readme": "<h1 id=\"angularai-application\">AngularAI Application</h1>\n<p>This is a full-stack application with a Spring Boot backend and an Angular frontend.</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<ul>\n<li><a href=\"https://www.docker.com/get-started\">Docker</a></li>\n<li><a href=\"https://docs.docker.com/compose/install/\">Docker Compose</a></li>\n</ul>\n<h2 id=\"running-with-docker\">Running with Docker</h2>\n<p>To run the entire application using Docker Compose, navigate to the root directory. First, create a <code>.env</code> file in the root directory (you can copy <code>.env.example</code> as a template):</p>\n<pre><code class=\"language-bash\">cp .env.example .env\n</code></pre>\n<p>Then run:</p>\n<pre><code class=\"language-bash\">docker compose up --build\n</code></pre>\n<p>The application will be available at:\n- Frontend: <a href=\"http://localhost\">http://localhost</a>\n- Backend API: <a href=\"http://localhost:8080/api\">http://localhost:8080/api</a>\n- H2 Console: <a href=\"http://localhost:8080/h2-console\">http://localhost:8080/h2-console</a> (JDBC URL: <code>jdbc:h2:mem:testdb</code>)</p>\n<h2 id=\"deployment-scripts\">Deployment Scripts</h2>\n<p>Scripts are available in the <code>scripts/</code> folder for common deployment tasks (PowerShell and Windows CMD). <strong>Note: PowerShell scripts automatically load variables from your local <code>.env</code> file.</strong></p>\n<ul>\n<li><strong>Local Docker Deployment</strong>: <code>.\\scripts\\deploy-local.ps1</code> or <code>.\\scripts\\deploy-local.bat</code></li>\n<li>Runs <code>docker compose up --build -d</code> to start the application locally in the background.</li>\n<li><strong>AWS Deployment</strong>: <code>.\\scripts\\deploy-aws.ps1</code> or <code>.\\scripts\\deploy-aws.bat</code></li>\n<li>Authenticates with AWS ECR, builds, tags, and pushes frontend and backend images, and forces a new deployment on ECS services.</li>\n<li><strong>Environment Loading</strong>: The <code>load-env.ps1</code> script is used by other PowerShell scripts to ensure sensitive keys (like <code>IPSTACK_API_KEY</code>) are available in the session.</li>\n</ul>\n<h2 id=\"project-structure\">Project Structure</h2>\n<ul>\n<li><code>backend/</code>: Spring Boot application.</li>\n<li><code>frontend/</code>: Angular application.</li>\n<li><code>android/</code>: Android Jetpack Compose application.</li>\n<li><code>docker-compose.yml</code>: Orchestration for both services.</li>\n</ul>\n<h2 id=\"development\">Development</h2>\n<h3 id=\"intellij-idea-setup\">IntelliJ IDEA Setup</h3>\n<p>To run the backend from IntelliJ, you must ensure that required environment variables (like <code>IPSTACK_API_KEY</code>) are available. \n- You can manually add them to your Run Configurations.\n- Alternatively, use a plugin like <strong>EnvFile</strong> to automatically load the <code>.env</code> file into your Run Configurations. <strong>Do not commit these keys to Git.</strong></p>\n<h3 id=\"frontend-web\">Frontend (Web)</h3>\n<p>Navigate to <code>frontend/</code> and run <code>npm install</code> and then <code>npm start</code>.\nThe Angular development server is configured to proxy <code>/api</code> requests to <code>http://localhost:8080</code>. Ensure the backend is running.</p>\n<h2 id=\"documentation\">Documentation</h2>\n<ul>\n<li><a href=\"doc/userguide/user-guide.md\">User Guide</a></li>\n<li><a href=\"doc/userguide/release-notes.md\">Release Notes</a></li>\n<li><a href=\"doc/userguide/admin-guide.md\">Admin Guide</a></li>\n<li><a href=\"doc/userguide/faq.md\">FAQ</a></li>\n<li><a href=\"scripts/md_to_confluence.py\">Confluence Export Script</a></li>\n<li><a href=\"doc/ai/android/android-build-instructions.md\">Android Build Instructions</a></li>\n<li><a href=\"doc/ai/aws/aws_setup.md\">AWS Setup and Infrastructure</a></li>\n<li><a href=\"doc/ai/backend/postgres_setup.md\">PostgreSQL Setup</a></li>\n<li><a href=\"doc/ai/aws/aws_fargate_config.md\">ECS Fargate Configuration</a></li>\n<li><a href=\"doc/ai/aws/aws_create_target_group.md\">Creating a Backend Target Group</a></li>\n<li><a href=\"doc/ai/aws/aws_alb_troubleshooting.md\">ALB and Connectivity Troubleshooting</a></li>\n<li><a href=\"doc/ai/aws/aws_ecs_push_instructions.md\">Pushing Images to Amazon ECR</a></li>\n</ul>",
  "user-guide": "<h1 id=\"user-guide\">User Guide</h1>\n<p>Welcome to the AngularAI User Guide. This document provides instructions on how to use the frontend application features.</p>\n<h2 id=\"table-of-contents\">Table of Contents</h2>\n<ol>\n<li><a href=\"#getting-started\">Getting Started</a></li>\n<li><a href=\"#dashboard\">Dashboard</a></li>\n<li><a href=\"#task-management\">Task Management</a></li>\n<li><a href=\"#user-profile\">User Profile</a></li>\n<li><a href=\"#logout\">Logout</a></li>\n</ol>\n<h2 id=\"getting-started\">Getting Started</h2>\n<p>To access the application, navigate to the frontend URL (typically <code>http://localhost</code>). You will be prompted to log in. If you don't have an account, you can register a new one.</p>\n<h3 id=\"login\">Login</h3>\n<p>Enter your username and password to access your account.</p>\n<h3 id=\"registration\">Registration</h3>\n<p>If you are a new user, click on the \"Register\" link. Provide your first name, last name, desired login, email address, and password.</p>\n<h2 id=\"dashboard\">Dashboard</h2>\n<p>The Dashboard provides an overview of your activities and the system status:\n- <strong>Summary Cards</strong>: Quick stats on Open Tasks, Active Users, Completed Tasks, and Today's Logs.\n- <strong>Task Overview</strong>: A visual distribution of tasks by status (Open, In Progress, Completed).\n- <strong>Recent Activity</strong>: A list of the latest actions performed in the system.\n- <strong>Priority Tasks</strong>: A list of high-priority tasks that need your attention.</p>\n<h2 id=\"task-management\">Task Management</h2>\n<p>The Task Management page allows you to organize your work:\n- <strong>Add Task</strong>: Click the \"Add Task\" button to create a new task. You can specify a title, description, due date, priority, and status.\n- <strong>Filter and Sort</strong>: Filter tasks by status (Open, In Progress, Completed) or reset sorting to view them by priority.\n- <strong>Edit Task</strong>: Click the edit icon on a task card to modify its details.\n- <strong>Delete Task</strong>: Click the delete icon to remove a task.\n- <strong>Drag and Drop</strong>: You can reorder tasks by dragging them using the handle (available when not filtering).</p>\n<h2 id=\"user-profile\">User Profile</h2>\n<p>In the Profile section, you can view your personal details, including your name, email, and assigned role.</p>\n<h2 id=\"logout\">Logout</h2>\n<p>To securely leave the application, click the \"Logout\" button in the side navigation menu.</p>",
  "admin-guide": "<h1 id=\"admin-guide\">Admin Guide</h1>\n<p>This guide is intended for system administrators of the AngularAI application. Administrators have access to additional features for user management and system monitoring.</p>\n<h2 id=\"table-of-contents\">Table of Contents</h2>\n<ol>\n<li><a href=\"#user-administration\">User Administration</a></li>\n<li><a href=\"#system-logs\">System Logs</a></li>\n<li><a href=\"#roles-and-permissions\">Roles and Permissions</a></li>\n</ol>\n<h2 id=\"user-administration\">User Administration</h2>\n<p>The User Administration page allows you to manage all users in the system:\n- <strong>List Users</strong>: View a list of all registered users, including their login name, full name, email, and role.\n- <strong>Add User</strong>: Create a new user account manually by providing their personal details and assigning a role.\n- <strong>Edit User</strong>: Modify the details of an existing user. Note that you cannot change the login name once a user is created.\n- <strong>Delete User</strong>: Remove a user from the system. You cannot delete your own account.\n- <strong>View User (Read-only)</strong>: Users with the <code>ROLE_ADMIN_READ</code> role can view user details but cannot make changes.</p>\n<h2 id=\"system-logs\">System Logs</h2>\n<p>The System Logs page provides an audit trail of actions performed within the application:\n- <strong>Audit Trail</strong>: View logs including timestamp, user login, action performed, and additional details.\n- <strong>Filtering</strong>: Filter logs by action type (Login, Tasks, User Admin) and date range.\n- <strong>Sorting</strong>: Sort logs by timestamp.\n- <strong>Paging</strong>: Navigate through large sets of logs using the paginator.\n- <strong>Clear Logs</strong>: Administrators with full write access can clear all logs using the \"Clear All Logs\" button.</p>\n<h2 id=\"roles-and-permissions\">Roles and Permissions</h2>\n<p>The application uses the following roles to control access:\n- <strong>ROLE_USER</strong>: Standard user access. Can manage their own tasks and view their profile.\n- <strong>ROLE_ADMIN</strong>: Full administrative access. Can manage users, view all logs, and perform system-wide actions.\n- <strong>ROLE_ADMIN_READ</strong>: Read-only administrative access. Can view user lists and logs but cannot perform modifications or deletions.</p>",
  "faq": "<h1 id=\"frequently-asked-questions-faq\">Frequently Asked Questions (FAQ)</h1>\n<h2 id=\"general\">General</h2>\n<h3 id=\"q-what-is-angularai\">Q: What is AngularAI?</h3>\n<p>A: AngularAI is a task management application featuring a modern Angular frontend, a Spring Boot backend, and an Android mobile app.</p>\n<h3 id=\"q-how-do-i-get-started\">Q: How do I get started?</h3>\n<p>A: Register for an account, log in, and start creating tasks on the Task Management page.</p>\n<h2 id=\"accounts-and-security\">Accounts and Security</h2>\n<h3 id=\"q-i-forgot-my-password-how-can-i-reset-it\">Q: I forgot my password. How can I reset it?</h3>\n<p>A: Currently, password reset must be handled by an administrator. Please contact your system administrator.</p>\n<h3 id=\"q-can-i-change-my-role\">Q: Can I change my role?</h3>\n<p>A: User roles can only be changed by an administrator via the User Administration panel.</p>\n<h2 id=\"task-management\">Task Management</h2>\n<h3 id=\"q-can-i-reorder-my-tasks\">Q: Can I reorder my tasks?</h3>\n<p>A: Yes, you can use the drag handle on the left side of each task card to reorder them manually. Note that manual reordering is disabled when a status filter is active.</p>\n<h3 id=\"q-what-do-the-different-task-priorities-mean\">Q: What do the different task priorities mean?</h3>\n<p>A:\n- <strong>High</strong>: Urgent tasks that should be addressed immediately.\n- <strong>Medium</strong>: Important tasks that should be completed soon.\n- <strong>Low</strong>: Non-urgent tasks.</p>\n<h2 id=\"troubleshooting\">Troubleshooting</h2>\n<h3 id=\"q-the-application-is-not-loading-what-should-i-do\">Q: The application is not loading. What should I do?</h3>\n<p>A: Ensure that both the backend and frontend services are running. If you are using Docker, run <code>docker compose up</code> to start all services.</p>\n<h3 id=\"q-i-am-getting-an-access-denied-error\">Q: I am getting an \"Access Denied\" error.</h3>\n<p>A: This error occurs if you try to access a page for which you do not have the required permissions (e.g., trying to access User Administration as a regular user).</p>",
  "release-notes": "<h1 id=\"release-notes\">Release Notes</h1>\n<h2 id=\"version-103-2026-01-23\">Version 1.0.3 (2026-01-23)</h2>\n<ul>\n<li><strong>Enhanced Environment Management</strong>: Added <code>.env.example</code> template and improved environment loading logic for better local development setup.</li>\n<li><strong>Advanced Task Parsing</strong>: Implemented comprehensive task parsing logic with a dedicated test suite to improve natural language task entry.</li>\n<li><strong>UI/UX Improvements</strong>: Fixed dark mode issues and refined the task management interface.</li>\n<li><strong>Documentation Refinement</strong>: Streamlined AWS deployment documentation, removing obsolete ALB and ECR instructions.</li>\n</ul>\n<h2 id=\"version-102-2026-01-17\">Version 1.0.2 (2026-01-17)</h2>\n<ul>\n<li><strong>Version Display Fixes</strong>: Resolved issues where the version number was not correctly displayed in the UI.</li>\n<li><strong>Quality Assurance</strong>: Integrated Qodana for static code analysis and addressed multiple SonarLint issues to improve code quality.</li>\n<li><strong>Test Coverage</strong>: Significantly increased test coverage across the project, including backend JUnit tests and frontend Cypress integration tests.</li>\n<li><strong>CI/CD Stability</strong>: Fixed various GitHub Actions CI build issues to ensure reliable automated testing.</li>\n</ul>\n<h2 id=\"version-101-2026-01-14\">Version 1.0.1 (2026-01-14)</h2>\n<ul>\n<li><strong>Dashboard Visuals</strong>: Enhanced the dashboard with improved visuals and responsive layout across frontend, backend, and Android.</li>\n<li><strong>Internationalization</strong>: Added German translations (<code>de-ch</code>) and improved the translation infrastructure.</li>\n<li><strong>Security Enhancements</strong>: Introduced <code>ROLE_ADMIN_READ</code> for granular access control and read-only administrative access.</li>\n<li><strong>Presentation Tools</strong>: Added scripts and templates for generating high-quality architectural presentations directly from the codebase.</li>\n</ul>\n<h2 id=\"version-100-2026-01-08\">Version 1.0.0 (2026-01-08)</h2>\n<ul>\n<li><strong>Initial Release</strong>: Core functionality of the AngularAI prototype.</li>\n<li><strong>Multi-Platform Support</strong>: Unified experience across Web (Angular) and Android platforms.</li>\n<li><strong>Task Management</strong>: Comprehensive task lifecycle including status tracking, filtering, and drag-and-drop reordering.</li>\n<li><strong>Real-time Monitoring</strong>: Integrated Action Log and Log menu for system transparency.</li>\n<li><strong>API Documentation</strong>: Integrated Swagger UI for easy exploration of the backend REST API.</li>\n<li><strong>Database Migrations</strong>: Initialized Flyway integration for reliable schema management.</li>\n<li><strong>Test Client</strong>: Added a CLI tool for data management and direct API interaction.</li>\n</ul>\n<h2 id=\"pre-100-2026-01-01\">Pre-1.0.0 (2026-01-01)</h2>\n<ul>\n<li><strong>Foundation</strong>: Established the core project structure with Spring Boot backend and Angular standalone components.</li>\n<li><strong>Infrastructure</strong>: Set up Docker-based deployment and Nginx reverse proxy configuration.</li>\n<li><strong>Architecture</strong>: Defined the \"AngularAI\" ecosystem diagrams and core design principles.</li>\n</ul>",
  "android-build-instructions": "<h1 id=\"android-build-instructions\">Android Build Instructions</h1>\n<p>This document provides instructions on how to build and run the Android frontend of the AngularAI application locally.</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<ol>\n<li><strong>Android Studio</strong>: It is highly recommended to use the latest version of <a href=\"https://developer.android.com/studio\">Android Studio</a>.</li>\n<li><strong>JDK 17</strong>: The project is configured to use Java 17.</li>\n<li><strong>Android SDK</strong>: Ensure you have Android SDK 34 (UpsideDownCake) installed.</li>\n</ol>\n<h2 id=\"building-with-android-studio-recommended\">Building with Android Studio (Recommended)</h2>\n<ol>\n<li>Open Android Studio.</li>\n<li>Select <strong>Open</strong> and navigate to the <code>android/</code> directory in the project root.</li>\n<li>Wait for Android Studio to import the project and sync with Gradle.</li>\n<li>Once the sync is complete, you can build the project by going to <strong>Build &gt; Make Project</strong>.</li>\n<li>To run the app, select a device (emulator or physical device) and click the <strong>Run</strong> (green play) icon.</li>\n</ol>\n<h2 id=\"building-with-command-line\">Building with Command Line</h2>\n<p>If you have Gradle installed on your machine, you can build the APK from the terminal:</p>\n<ol>\n<li>Open a terminal and navigate to the <code>android/</code> directory.</li>\n<li>Run the following command to build the debug APK:\n    <code>bash\n    gradle assembleDebug</code></li>\n<li>The generated APK will be located at <code>android/app/build/outputs/apk/debug/app-debug.apk</code>.</li>\n</ol>\n<p><em>Note: If you don't have the Gradle wrapper files, opening the project in Android Studio for the first time will generate them for you.</em></p>\n<h2 id=\"connecting-to-the-backend\">Connecting to the Backend</h2>\n<p>The Android app needs to communicate with the Spring Boot backend. </p>\n<h3 id=\"emulator-10022\">Emulator (10.0.2.2)</h3>\n<p>If you are running the backend on <code>localhost:8080</code> and using the <strong>Android Emulator</strong>, the app is already configured to use <code>10.0.2.2:8080</code>, which is the special alias to your host loopback interface.</p>\n<h3 id=\"physical-device\">Physical Device</h3>\n<p>If you are using a <strong>physical device</strong>, you must ensure both the device and your computer are on the same Wi-Fi network.\n1.  Find your computer's local IP address (e.g., <code>192.168.1.15</code>).\n2.  Update the <code>baseUrl</code> in <code>android/app/src/main/java/ch/goodone/angularai/android/di/NetworkModule.kt</code> to point to your computer's IP:\n    <code>kotlin\n    .baseUrl(\"http://192.168.1.15:8080/\")</code>\n3.  Ensure the backend's <code>SecurityConfig.java</code> allows CORS from your device's IP (it is currently configured to allow <code>192.168.*</code>).</p>\n<h2 id=\"troubleshooting\">Troubleshooting</h2>\n<ul>\n<li><strong>Gradle Sync Fails</strong>: Ensure you have an active internet connection to download dependencies.</li>\n<li><strong>JDK Version</strong>: If you get a \"class file has wrong version\" error, make sure Android Studio is configured to use JDK 17 in <strong>Settings &gt; Build, Execution, Deployment &gt; Build Tools &gt; Gradle</strong>.</li>\n<li><strong>CORS Issues</strong>: Check the backend logs to see if requests from the mobile device are being rejected.</li>\n</ul>",
  "postgres-setup": "<p>I have added the PostgreSQL configuration to the project. This includes the necessary driver dependency and a dedicated properties file.</p>\n<h3 id=\"1-new-configuration-file\">1. New Configuration File</h3>\n<p>An additional configuration file has been created at:\n<code>backend/src/main/resources/application-postgres.properties</code></p>\n<p>This file is configured to connect to a local PostgreSQL instance:\n*   <strong>URL</strong>: <code>jdbc:postgresql://localhost:5432/angularai</code>\n*   <strong>Username/Password</strong>: <code>postgres</code> / <code>postgres</code> (Default)\n*   <strong>DDL Auto</strong>: <code>update</code> (Automatically manages the schema)</p>\n<p>To use this configuration when starting the application, you can set the active profile:\n*   <strong>Via IntelliJ</strong>: Add <code>-Dspring.profiles.active=postgres</code> to the VM options.\n*   <strong>Via CLI</strong>: <code>java -jar app.jar --spring.profiles.active=postgres</code></p>\n<h3 id=\"2-postgresql-setup-instructions\">2. PostgreSQL Setup Instructions</h3>\n<p>Follow these steps to prepare your local PostgreSQL database:</p>\n<h4 id=\"step-a-install-postgresql\">Step A: Install PostgreSQL</h4>\n<p>Ensure PostgreSQL is installed and running on your system. You can download it from <a href=\"https://www.postgresql.org/download/\">postgresql.org</a>.</p>\n<h4 id=\"step-b-create-the-database\">Step B: Create the Database</h4>\n<p>Open your terminal or a tool like <code>pgAdmin</code> or <code>psql</code> and execute the following commands:</p>\n<pre><code class=\"language-sql\">-- Connect as the default postgres user\n-- Create the database used in the properties file\nCREATE DATABASE angularai;\n</code></pre>\n<h4 id=\"step-c-database-schema-initialization\">Step C: Database Schema Initialization</h4>\n<p>You do <strong>not</strong> need to manually create tables or the schema. \nThe application is configured with <code>spring.jpa.hibernate.ddl-auto=update</code>. When you start the Spring Boot application with the <code>postgres</code> profile active:\n1.  Hibernate will connect to the <code>angularai</code> database.\n2.  It will automatically detect the entities (<code>User</code>, <code>Task</code>) defined in the code.\n3.  It will create the corresponding tables (<code>users</code>, <code>tasks</code>) and constraints (unique emails, etc.) if they do not exist.</p>\n<h3 id=\"3-project-updates\">3. Project Updates</h3>\n<ul>\n<li>Updated <code>backend/pom.xml</code> to include the <code>org.postgresql:postgresql</code> runtime dependency.</li>\n<li>The <code>DataInitializer</code> remains active and will populate your local PostgreSQL database with sample admin and user accounts upon the first successful startup.</li>\n</ul>",
  "md-to-confluence": "<pre><code class=\"language-python\">import markdown\nimport requests\nimport json\nimport os\n\n# Configuration\nCONFLUENCE_URL = &quot;https://your-domain.atlassian.net/wiki/rest/api/content&quot;\nUSERNAME = &quot;your-email@example.com&quot;\nAPI_TOKEN = &quot;your-api-token&quot;\nSPACE_KEY = &quot;DOC&quot;\nPARENT_PAGE_ID = &quot;12345&quot; # Optional: ID of the parent page\n\ndef md_to_confluence_storage(md_file_path):\n    &quot;&quot;&quot;\n    Converts a Markdown file to HTML which is compatible with Confluence Storage Format.\n    Note: Standard HTML is often accepted by Confluence API, but some macros might need special tags.\n    &quot;&quot;&quot;\n    with open(md_file_path, 'r', encoding='utf-8') as f:\n        md_content = f.read()\n\n    # Convert Markdown to HTML\n    html_content = markdown.markdown(md_content, extensions=['extra', 'toc'])\n    return html_content\n\ndef post_to_confluence(title, html_content, page_id=None):\n    &quot;&quot;&quot;\n    Posts content to Confluence. If page_id is provided, it updates the page.\n    &quot;&quot;&quot;\n    headers = {\n        &quot;Accept&quot;: &quot;application/json&quot;,\n        &quot;Content-Type&quot;: &quot;application/json&quot;\n    }\n\n    auth = (USERNAME, API_TOKEN)\n\n    data = {\n        &quot;type&quot;: &quot;page&quot;,\n        &quot;title&quot;: title,\n        &quot;space&quot;: {&quot;key&quot;: SPACE_KEY},\n        &quot;body&quot;: {\n            &quot;storage&quot;: {\n                &quot;value&quot;: html_content,\n                &quot;representation&quot;: &quot;storage&quot;\n            }\n        }\n    }\n\n    if PARENT_PAGE_ID:\n        data[&quot;ancestors&quot;] = [{&quot;id&quot;: PARENT_PAGE_ID}]\n\n    if page_id:\n        # Update existing page (needs version increment)\n        # First, get current version\n        resp = requests.get(f&quot;{CONFLUENCE_URL}/{page_id}?expand=version&quot;, auth=auth)\n        version = resp.json()['version']['number'] + 1\n        data[&quot;version&quot;] = {&quot;number&quot;: version}\n        url = f&quot;{CONFLUENCE_URL}/{page_id}&quot;\n        response = requests.put(url, data=json.dumps(data), headers=headers, auth=auth)\n    else:\n        # Create new page\n        url = CONFLUENCE_URL\n        response = requests.post(url, data=json.dumps(data), headers=headers, auth=auth)\n\n    return response.status_code, response.text\n\nif __name__ == &quot;__main__&quot;:\n    docs = [\n        (&quot;User Guide&quot;, &quot;doc/userguide/user-guide.md&quot;),\n        (&quot;Admin Guide&quot;, &quot;doc/userguide/admin-guide.md&quot;),\n        (&quot;FAQ&quot;, &quot;doc/userguide/faq.md&quot;)\n    ]\n\n    print(&quot;This script is a proposal. Please configure your Confluence credentials before running.&quot;)\n    # for title, path in docs:\n    #     if os.path.exists(path):\n    #         print(f&quot;Converting {path}...&quot;)\n    #         storage_format = md_to_confluence_storage(path)\n    #         # status, text = post_to_confluence(title, storage_format)\n    #         # print(f&quot;Status: {status}&quot;)\n\n</code></pre>"
}