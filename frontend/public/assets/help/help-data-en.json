{
  "readme": "<h1 id=\"angularai-application\">AngularAI Application</h1>\n<p>This is a full-stack application with a Spring Boot backend and an Angular frontend.</p>\n<h2 id=\"prerequisites\">Prerequisites</h2>\n<ul>\n<li><a href=\"https://www.docker.com/get-started\">Docker</a></li>\n<li><a href=\"https://docs.docker.com/compose/install/\">Docker Compose</a></li>\n</ul>\n<h2 id=\"running-with-docker\">Running with Docker</h2>\n<p>To run the entire application using Docker Compose, navigate to the root directory. First, create a <code>.env</code> file in the root directory (you can copy <code>.env.example</code> as a template):</p>\n<pre><code class=\"language-bash\">cp .env.example .env\n</code></pre>\n<p>Note: A <code>.dockerignore</code> file is included in the root directory to ensure that only necessary files are sent to the Docker daemon during builds. This significantly reduces build times and keeps image sizes optimized by excluding local <code>node_modules</code>, <code>dist</code>, <code>target</code> folders, and other build artifacts. This optimization applies to both Frontend and Backend builds.</p>\n<p>Then run:</p>\n<pre><code class=\"language-bash\">docker compose up --build\n</code></pre>\n<p>The application will be available at:\n- Frontend: <a href=\"http://localhost\">http://localhost</a>\n- Backend API: <a href=\"http://localhost:8080/api\">http://localhost:8080/api</a>\n- H2 Console: <a href=\"http://localhost:8080/h2-console\">http://localhost:8080/h2-console</a> (JDBC URL: <code>jdbc:h2:mem:testdb</code>)</p>\n<h2 id=\"deployment-scripts\">Deployment Scripts</h2>\n<p>Scripts are available in the <code>scripts/</code> folder for common deployment tasks (PowerShell and Windows CMD). <strong>Note: PowerShell scripts automatically load variables from your local <code>.env</code> file.</strong></p>\n<ul>\n<li><strong>Local Docker Deployment</strong>: <code>.\\scripts\\deploy-local.ps1</code> or <code>.\\scripts\\deploy-local.bat</code></li>\n<li>Runs <code>docker compose up --build -d</code> to start the application locally in the background.</li>\n<li><strong>AWS Deployment</strong>: <code>.\\scripts\\deploy-aws.ps1</code> or <code>.\\scripts\\deploy-aws.bat</code></li>\n<li>Authenticates with AWS ECR, builds, tags, and pushes frontend and backend images, and forces a new deployment on ECS services.</li>\n<li><strong>Update Documentation Screenshots</strong>: <code>.\\scripts\\update-docs-screenshots.ps1</code></li>\n<li>Runs Playwright tests to regenerate UI screenshots for user guides.</li>\n<li><strong>Environment Loading</strong>: The <code>load-env.ps1</code> script is used by other PowerShell scripts to ensure sensitive keys (like <code>IPSTACK_API_KEY</code>) are available in the session.</li>\n</ul>\n<h2 id=\"project-structure\">Project Structure</h2>\n<ul>\n<li><code>backend/</code>: Spring Boot application.</li>\n<li><code>frontend/</code>: Angular application.</li>\n<li><code>android/</code>: Android Jetpack Compose application.</li>\n<li><code>docker-compose.yml</code>: Orchestration for both services.</li>\n</ul>\n<h2 id=\"development\">Development</h2>\n<h3 id=\"intellij-idea-setup\">IntelliJ IDEA Setup</h3>\n<p>To run the backend from IntelliJ, you must ensure that required environment variables (like <code>IPSTACK_API_KEY</code> and <code>APP_BASE_URL</code>) are available. \n- You can manually add them to your Run Configurations.\n- Alternatively, use a plugin like <strong>EnvFile</strong> to automatically load the <code>.env</code> file into your Run Configurations.\n- <strong>Note on <code>APP_BASE_URL</code></strong>: By default, the backend uses <code>http://localhost:4200</code> for <code>app.base-url</code>. This ensures that email verification links point to the Angular development server during local development. If you need to override this, set the <code>APP_BASE_URL</code> environment variable.</p>\n<h3 id=\"frontend-web\">Frontend (Web)</h3>\n<p>Navigate to <code>frontend/</code> and run <code>npm install</code> and then <code>npm start</code>.\nThe Angular development server is configured to proxy <code>/api</code> requests to <code>http://localhost:8080</code>. Ensure the backend is running.</p>\n<h3 id=\"static-analysis-linting\">Static Analysis &amp; Linting</h3>\n<p>Before committing code, ensure it passes all static analysis checks.</p>\n<p><strong>Backend (Java):</strong></p>\n<pre><code class=\"language-bash\">mvn checkstyle:check\nmvn pmd:check\n</code></pre>\n<p><strong>Frontend (Web):</strong></p>\n<pre><code class=\"language-bash\">cd frontend\nnpm run lint\n</code></pre>\n<h2 id=\"documentation\">Documentation</h2>\n<p>The project documentation is organized in the <code>doc/</code> directory. For a comprehensive overview, start with the <strong><a href=\"doc/architecture/Home.md\">Documentation Hub</a></strong>.</p>\n<h3 id=\"core-guides\">Core Guides</h3>\n<ul>\n<li><a href=\"doc/user-guide/user-guide.md\">User Guide</a></li>\n<li><a href=\"doc/admin-guide/admin-guide.md\">Admin Guide</a></li>\n<li><a href=\"doc/user-guide/release-notes.md\">Release Notes</a></li>\n<li><a href=\"doc/user-guide/faq.md\">FAQ</a></li>\n</ul>\n<h3 id=\"technical-details\">Technical Details</h3>\n<ul>\n<li><a href=\"doc/architecture/Architecture.md\">Architecture Overview</a></li>\n<li><a href=\"doc/development/common/mcp-architecture.md\">MCP &amp; Autonomous Agents</a></li>\n<li><a href=\"doc/development/security/transmitting-snyk-results.md\">Transmitting Snyk Results</a></li>\n<li><a href=\"doc/architecture/workflows/use-cases.md\">Core Workflows</a></li>\n<li><a href=\"doc/development/common/Development-Standards.md\">Development Standards</a></li>\n<li><a href=\"doc/development/frontend/Frontend-Development.md\">Frontend Development</a></li>\n<li><a href=\"doc/development/backend/Backend-Development.md\">Backend Development</a></li>\n<li><a href=\"doc/infrastructure/Deployment.md\">Deployment &amp; Infrastructure</a></li>\n</ul>\n<h3 id=\"deployment-tools\">Deployment &amp; Tools</h3>\n<ul>\n<li><a href=\"scripts/md_to_confluence.py\">Confluence Export Script</a></li>\n<li><a href=\"doc/development/android/Android-Development.md\">Android Development</a></li>\n<li><a href=\"doc/development/backend/postgres_setup.md\">PostgreSQL Setup</a></li>\n</ul>\n<h2 id=\"release-process\">Release Process</h2>\n<p>To create a new release (e.g., version 1.0.3):</p>\n<ol>\n<li><strong>Preparation</strong>: Ensure all changes are committed and tested.</li>\n<li><strong>Run Release Script</strong>: Execute the following command in PowerShell:\n    <code>bash\n    .\\scripts\\release.ps1 -NewVersion \"1.0.3\"</code>\n    This script will:<ul>\n<li>Update the version in <code>pom.xml</code>.</li>\n<li>Synchronize the version across all project files (package.json, build.gradle, etc.).</li>\n<li>Add a header for the new version in <code>release-notes.md</code>.</li>\n<li>Regenerate the help data JSON files.</li>\n<li>Create a git commit and a git tag (e.g., <code>v1.0.3</code>).</li>\n</ul>\n</li>\n<li><strong>Manual Step</strong>: Edit <code>doc/userguide/release-notes.md</code> to provide meaningful details for the release.</li>\n<li><strong>Push</strong>: Push the changes and tags to the repository:\n    <code>bash\n    git push origin main --tags</code></li>\n<li><strong>Next Version</strong>: To start development on the next version (e.g., 1.0.4), simply run the script again with the new version number when you are ready to release it. During development, you can manually update the version in <code>pom.xml</code> if needed and run <code>.\\scripts\\sync-version.ps1</code>.</li>\n</ol>",
  "md-to-confluence": "<pre><code class=\"language-python\">import markdown\nimport requests\nimport json\nimport os\n\n# Configuration\nCONFLUENCE_URL = &quot;https://your-domain.atlassian.net/wiki/rest/api/content&quot;\nUSERNAME = &quot;your-email@example.com&quot;\nAPI_TOKEN = &quot;your-api-token&quot;\nSPACE_KEY = &quot;DOC&quot;\nPARENT_PAGE_ID = &quot;12345&quot; # Optional: ID of the parent page\n\ndef md_to_confluence_storage(md_file_path):\n    &quot;&quot;&quot;\n    Converts a Markdown file to HTML which is compatible with Confluence Storage Format.\n    Note: Standard HTML is often accepted by Confluence API, but some macros might need special tags.\n    &quot;&quot;&quot;\n    with open(md_file_path, 'r', encoding='utf-8') as f:\n        md_content = f.read()\n\n    # Convert Markdown to HTML\n    html_content = markdown.markdown(md_content, extensions=['extra', 'toc'])\n    return html_content\n\ndef post_to_confluence(title, html_content, page_id=None):\n    &quot;&quot;&quot;\n    Posts content to Confluence. If page_id is provided, it updates the page.\n    &quot;&quot;&quot;\n    headers = {\n        &quot;Accept&quot;: &quot;application/json&quot;,\n        &quot;Content-Type&quot;: &quot;application/json&quot;\n    }\n\n    auth = (USERNAME, API_TOKEN)\n\n    data = {\n        &quot;type&quot;: &quot;page&quot;,\n        &quot;title&quot;: title,\n        &quot;space&quot;: {&quot;key&quot;: SPACE_KEY},\n        &quot;body&quot;: {\n            &quot;storage&quot;: {\n                &quot;value&quot;: html_content,\n                &quot;representation&quot;: &quot;storage&quot;\n            }\n        }\n    }\n\n    if PARENT_PAGE_ID:\n        data[&quot;ancestors&quot;] = [{&quot;id&quot;: PARENT_PAGE_ID}]\n\n    if page_id:\n        # Update existing page (needs version increment)\n        # First, get current version\n        resp = requests.get(f&quot;{CONFLUENCE_URL}/{page_id}?expand=version&quot;, auth=auth)\n        version = resp.json()['version']['number'] + 1\n        data[&quot;version&quot;] = {&quot;number&quot;: version}\n        url = f&quot;{CONFLUENCE_URL}/{page_id}&quot;\n        response = requests.put(url, data=json.dumps(data), headers=headers, auth=auth)\n    else:\n        # Create new page\n        url = CONFLUENCE_URL\n        response = requests.post(url, data=json.dumps(data), headers=headers, auth=auth)\n\n    return response.status_code, response.text\n\nif __name__ == &quot;__main__&quot;:\n    docs = [\n        (&quot;User Guide&quot;, &quot;doc/userguide/user-guide.md&quot;),\n        (&quot;Admin Guide&quot;, &quot;doc/userguide/admin-guide.md&quot;),\n        (&quot;FAQ&quot;, &quot;doc/userguide/faq.md&quot;)\n    ]\n\n    print(&quot;This script is a proposal. Please configure your Confluence credentials before running.&quot;)\n    # for title, path in docs:\n    #     if os.path.exists(path):\n    #         print(f&quot;Converting {path}...&quot;)\n    #         storage_format = md_to_confluence_storage(path)\n    #         # status, text = post_to_confluence(title, storage_format)\n    #         # print(f&quot;Status: {status}&quot;)\n\n</code></pre>"
}